webpackJsonp([1],{5:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i;t.AJAX_TEST="AJAX_TEST",t.TEST_API="http://wx.redtravel.cn",t.PAGE_DONE="PAGE_DONE",t.GET_MORE="GET_MORE",t.CAT_MORE="CAT_MORE",t.SCROLL_UP="SCROLL_UP",t.GET_DETAIL="GET_DETAIL",t.SEARCH_DONE="SEARCH_DONE",t.SHOW_SEARCH="SHOW_SEARCH",t.DEL_INDENT="DEL_INDENT",t.GO_INDENT="GO_INDENT",t.ADD_AMOUNT="ADD_AMOUNT",t.MINUS_AMOUNT="MINUS_AMOUNT",t.ORDER_TO_PAY="ORDER_TO_PAY",t.GET_COUPONS="GET_COUPONS",t.GET_ORDER_LIST="GET_ORDER_LIST",t.ORDER_DETAIL="ORDER_DETAIL",t.DO_SORT="DO_SORT",t.APPID="wx8f2d4ba8d79914d1",t.GET_KEYWORD="GET_KEYWORD",t.CLEAR_PRODUCT="CLEAR_PRODUCT",t.BIND_COUPONS="BIND_COUPONS",t.GET_HISTORY="GET_HISTORY";i="http://iapi.putike.cn";t.KEYWORD_URL=i+"/index/api?method=product&action=hotkeyword",t.COUPONS_URL=i+"/index/api?method=user&action=ticketlist",t.ORDER_LIST=i+"/index/api?method=user&action=orderlist",t.BIND_COUPONS_URL=i+"/index/api?method=user&action=bind_coupons",t.PAY_URL=i+"/index/api?method=order&action=detail",t.SEARCH_URL=i+"/index/api?method=product&action=index&page=",t.PRODUCTS_URL=i+"/index/api?method=product&action=index&page=",t.DETAIL_URL=i+"/index/api?method=product&action=detail",t.INDEX_API=i+"/index/api?"},9:function(e,t,i){i(12),e.exports=self.fetch.bind(self)},12:function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function i(e){return"string"!=typeof e&&(e=String(e)),e}function n(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return m.iterable&&(t[Symbol.iterator]=function(){return t}),t}function r(e){this.map={},e instanceof r?e.forEach(function(e,t){this.append(t,e)},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function s(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,i){e.onload=function(){t(e.result)},e.onerror=function(){i(e.error)}})}function o(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function l(e){var t=new FileReader;return t.readAsText(e),a(t)}function d(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(m.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(m.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!m.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):m.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},m.blob?(this.blob=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(o)},this.text=function(){var e=s(this);if(e)return e;if(this._bodyBlob)return l(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=s(this);return e?e:Promise.resolve(this._bodyText)},m.formData&&(this.formData=function(){return this.text().then(f)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}function c(e,t){t=t||{};var i=t.body;if(c.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new r(e.headers)),this.method=e.method,this.mode=e.mode,i||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new r(t.headers)),this.method=u(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function f(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var i=e.split("="),n=i.shift().replace(/\+/g," "),r=i.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(r))}}),t}function h(e){var t=new r,i=(e.getAllResponseHeaders()||"").trim().split("\n");return i.forEach(function(e){var i=e.trim().split(":"),n=i.shift().trim(),r=i.join(":").trim();t.append(n,r)}),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var m={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};r.prototype.append=function(e,n){e=t(e),n=i(n);var r=this.map[e];r||(r=[],this.map[e]=r),r.push(n)},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var i=this.map[t(e)];return i?i[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(e,n){this.map[t(e)]=[i(n)]},r.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach(function(i){this.map[i].forEach(function(n){e.call(t,n,i,this)},this)},this)},r.prototype.keys=function(){var e=[];return this.forEach(function(t,i){e.push(i)}),n(e)},r.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),n(e)},r.prototype.entries=function(){var e=[];return this.forEach(function(t,i){e.push([i,t])}),n(e)},m.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var _=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];c.prototype.clone=function(){return new c(this)},d.call(c.prototype),d.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];p.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=r,e.Request=c,e.Response=p,e.fetch=function(e,t){return new Promise(function(i,n){function r(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var s;s=c.prototype.isPrototypeOf(e)&&!t?e:new c(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:h(a),url:r()},t="response"in a?a.response:a.responseText;i(new p(t,e))},a.onerror=function(){n(new TypeError("Network request failed"))},a.ontimeout=function(){n(new TypeError("Network request failed"))},a.open(s.method,s.url,!0),"include"===s.credentials&&(a.withCredentials=!0),"responseType"in a&&m.blob&&(a.responseType="blob"),s.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send("undefined"==typeof s._bodyInit?null:s._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},14:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=n(r),a=i(17),o=n(a),l=(i(7),s["default"].createClass({displayName:"MainHeader",contextTypes:{router:s["default"].PropTypes.object.isRequired},getInitialState:function(){return{}},goBack:function(e){e.preventDefault(),this.context.router.push("/catemap")},componentDidMount:function(){},componentWillUnmount:function(){},render:function(){var e,t=this.props.title_right;switch(e="取消"==t?s["default"].createElement("p",{className:o["default"].title_cancel_right,onClick:this.props.cancelRight},t):s["default"].createElement("p",{className:o["default"].title_bar_right,onClick:this.props.doRight},t),t){case"取消":e=s["default"].createElement("p",{className:o["default"].title_cancel_right,onClick:this.props.cancelRight},t);break;case"tel":e=s["default"].createElement("p",{className:o["default"].title_tel_right,onClick:this.props.doRight},s["default"].createElement("a",{href:"tel:400-600-800"}));break;case"coupon":e=s["default"].createElement("p",{className:o["default"].title_bar_right,onClick:this.props.doRight},t)}return s["default"].createElement("div",null,s["default"].createElement("div",{className:o["default"].MainHeader},s["default"].createElement("i",{className:o["default"].goBack,onClick:this.context.router.goBack}),s["default"].createElement("p",{className:o["default"].title},this.props.title),e))}}));t["default"]=l},15:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(14),s=n(r);t["default"]=s["default"]},16:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var r=i(33),s=n(r);t["default"]=function(e,t,i){return t in e?(0,s["default"])(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},17:function(e,t){e.exports={MainHeader:"MainHeader__MainHeader___3F1Zi",goBack:"MainHeader__goBack___2Eg4z",title:"MainHeader__title___FxDNi",title_bar_right:"MainHeader__title_bar_right___1K_KU",title_cancel_right:"MainHeader__title_cancel_right___XEvG7",title_tel_right:"MainHeader__title_tel_right___-Sjjl"}},25:function(e,t,i){var n,r;/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n))e.push(i.apply(null,n));else if("object"===r)for(var a in n)s.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}var s={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=i:(n=[],r=function(){return i}.apply(t,n),!(void 0!==r&&(e.exports=r)))}()},29:615,77:function(e,t,i){var n=i(207),r=function(e){var t=/[height|width]$/;return t.test(e)},s=function(e){var t="",i=Object.keys(e);return i.forEach(function(s,a){var o=e[s];s=n(s),r(s)&&"number"==typeof o&&(o+="px"),t+=o===!0?s:o===!1?"not "+s:"("+s+": "+o+")",a<i.length-1&&(t+=" and ")}),t},a=function(e){var t="";return"string"==typeof e?e:e instanceof Array?(e.forEach(function(i,n){t+=s(i),n<e.length-1&&(t+=", ")}),t):s(e)};e.exports=a},80:function(e,t){"use strict";var i={className:"",adaptiveHeight:!1,arrows:!0,autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:!1,pauseOnHover:!1,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,afterChange:null,beforeChange:null,edgeEvent:null,init:null,swipeEvent:null,nextArrow:null,prevArrow:null};e.exports=i},81:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=n(r),a=i(79),o=n(a),l=s["default"].version>="0.14.0"?o["default"]:s["default"];t["default"]=l,e.exports=t["default"]},82:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=n(r),a=i(81),o=n(a),l=i(194),d=n(l),u=i(83),c=i(29),f=n(c),h={initialize:function(e){var t=s["default"].Children.count(e.children),i=this.getWidth(o["default"].findDOMNode(this.refs.list)),n=this.getWidth(o["default"].findDOMNode(this.refs.track)),r=this.getWidth(o["default"].findDOMNode(this))/e.slidesToShow,a=e.rtl?t-1-e.initialSlide:e.initialSlide;this.setState({slideCount:t,slideWidth:r,listWidth:i,trackWidth:n,currentSlide:a},function(){var t=(0,u.getTrackLeft)((0,f["default"])({slideIndex:this.state.currentSlide,trackRef:this.refs.track},e,this.state)),i=(0,u.getTrackCSS)((0,f["default"])({left:t},e,this.state));this.setState({trackStyle:i}),this.autoPlay()})},update:function(e){var t=s["default"].Children.count(e.children),i=this.getWidth(o["default"].findDOMNode(this.refs.list)),n=this.getWidth(o["default"].findDOMNode(this.refs.track)),r=this.getWidth(o["default"].findDOMNode(this))/e.slidesToShow;this.setState({slideCount:t,slideWidth:r,listWidth:i,trackWidth:n},function(){var t=(0,u.getTrackLeft)((0,f["default"])({slideIndex:this.state.currentSlide,trackRef:this.refs.track},e,this.state)),i=(0,u.getTrackCSS)((0,f["default"])({left:t},e,this.state));this.setState({trackStyle:i})})},getWidth:function(e){return e.getBoundingClientRect().width||e.offsetWidth},adaptHeight:function(){if(this.props.adaptiveHeight){var e='[data-index="'+this.state.currentSlide+'"]';if(this.refs.list){var t=o["default"].findDOMNode(this.refs.list);t.style.height=t.querySelector(e).offsetHeight+"px"}}},slideHandler:function(e){var t,i,n,r,s,a=this;if(!this.props.waitForAnimate||!this.state.animating){if(this.props.fade)return i=this.state.currentSlide,t=0>e?e+this.state.slideCount:e>=this.state.slideCount?e-this.state.slideCount:e,this.props.lazyLoad&&this.state.lazyLoadedList.indexOf(t)<0&&this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(t)}),s=function(){a.setState({animating:!1}),a.props.afterChange&&a.props.afterChange(i),d["default"].removeEndEventListener(o["default"].findDOMNode(a.refs.track).children[i],s)},this.setState({animating:!0,currentSlide:t},function(){d["default"].addEndEventListener(o["default"].findDOMNode(this.refs.track).children[i],s)}),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,i),void this.autoPlay();if(t=e,i=0>t?this.props.infinite===!1?0:this.state.slideCount%this.props.slidesToScroll!==0?this.state.slideCount-this.state.slideCount%this.props.slidesToScroll:this.state.slideCount+t:t>=this.state.slideCount?this.props.infinite===!1?this.state.slideCount-this.props.slidesToShow:this.state.slideCount%this.props.slidesToScroll!==0?0:t-this.state.slideCount:t,n=(0,u.getTrackLeft)((0,f["default"])({slideIndex:t,trackRef:this.refs.track},this.props,this.state)),r=(0,u.getTrackLeft)((0,f["default"])({slideIndex:i,trackRef:this.refs.track},this.props,this.state)),this.props.infinite===!1&&(n=r),this.props.beforeChange&&this.props.beforeChange(this.state.currentSlide,i),this.props.lazyLoad){for(var l=!0,c=[],h=t;h<t+this.props.slidesToShow;h++)l=l&&this.state.lazyLoadedList.indexOf(h)>=0,l||c.push(h);l||this.setState({lazyLoadedList:this.state.lazyLoadedList.concat(c)})}if(this.props.useCSS===!1)this.setState({currentSlide:i,trackStyle:(0,u.getTrackCSS)((0,f["default"])({left:r},this.props,this.state))},function(){this.props.afterChange&&this.props.afterChange(i)});else{var p={animating:!1,currentSlide:i,trackStyle:(0,u.getTrackCSS)((0,f["default"])({left:r},this.props,this.state)),swipeLeft:null};s=function(){a.setState(p),a.props.afterChange&&a.props.afterChange(i),d["default"].removeEndEventListener(o["default"].findDOMNode(a.refs.track),s)},this.setState({animating:!0,currentSlide:i,trackStyle:(0,u.getTrackAnimateCSS)((0,f["default"])({left:n},this.props,this.state))},function(){d["default"].addEndEventListener(o["default"].findDOMNode(this.refs.track),s)})}this.autoPlay()}},swipeDirection:function(e){var t,i,n,r;return t=e.startX-e.curX,i=e.startY-e.curY,n=Math.atan2(i,t),r=Math.round(180*n/Math.PI),0>r&&(r=360-Math.abs(r)),45>=r&&r>=0||360>=r&&r>=315?this.props.rtl===!1?"left":"right":r>=135&&225>=r?this.props.rtl===!1?"right":"left":"vertical"},autoPlay:function(){var e=this;if(!this.state.autoPlayTimer){var t=function(){if(e.state.mounted){var t=e.props.rtl?e.state.currentSlide-e.props.slidesToScroll:e.state.currentSlide+e.props.slidesToScroll;e.slideHandler(t)}};this.props.autoplay&&this.setState({autoPlayTimer:window.setInterval(t,this.props.autoplaySpeed)})}},pause:function(){this.state.autoPlayTimer&&(window.clearInterval(this.state.autoPlayTimer),this.setState({autoPlayTimer:null}))}};t["default"]=h,e.exports=t["default"]},83:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(81),s=n(r),a=function(e,t){return t.reduce(function(t,i){return t&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing",e)},o=function(e){a(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t;t=e.variableWidth?(e.slideCount+2*e.slidesToShow)*e.slideWidth:e.centerMode?(e.slideCount+2*(e.slidesToShow+1))*e.slideWidth:(e.slideCount+2*e.slidesToShow)*e.slideWidth;var i={opacity:1,width:t,WebkitTransform:"translate3d("+e.left+"px, 0px, 0px)",transform:"translate3d("+e.left+"px, 0px, 0px)",transition:"",WebkitTransition:"",msTransform:"translateX("+e.left+"px)"};return!window.addEventListener&&window.attachEvent&&(i.marginLeft=e.left+"px"),i};t.getTrackCSS=o;var l=function(e){a(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=o(e);return t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase,t};t.getTrackAnimateCSS=l;var d=function(e){a(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth"]);var t,i,n=0;if(e.fade)return 0;if(e.infinite&&(e.slideCount>e.slidesToShow&&(n=e.slideWidth*e.slidesToShow*-1),e.slideCount%e.slidesToScroll!==0&&e.slideIndex+e.slidesToScroll>e.slideCount&&e.slideCount>e.slidesToShow&&(n=e.slideIndex>e.slideCount?(e.slidesToShow-(e.slideIndex-e.slideCount))*e.slideWidth*-1:e.slideCount%e.slidesToScroll*e.slideWidth*-1)),e.centerMode&&(e.infinite?n+=e.slideWidth*Math.floor(e.slidesToShow/2):n=e.slideWidth*Math.floor(e.slidesToShow/2)),t=e.slideIndex*e.slideWidth*-1+n,e.variableWidth===!0){var r;e.slideCount<=e.slidesToShow||e.infinite===!1?i=s["default"].findDOMNode(e.trackRef).childNodes[e.slideIndex]:(r=e.slideIndex+e.slidesToShow,i=s["default"].findDOMNode(e.trackRef).childNodes[r]),t=i?-1*i.offsetLeft:0,e.centerMode===!0&&(i=e.infinite===!1?s["default"].findDOMNode(e.trackRef).children[e.slideIndex]:s["default"].findDOMNode(e.trackRef).children[e.slideIndex+e.slidesToShow+1],t=i?-1*i.offsetLeft:0,t+=(e.listWidth-i.offsetWidth)/2)}return t};t.getTrackLeft=d},116:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(13),s=n(r),a=i(1),o=n(a),l=i(149),d=(n(l),i(180)),u=n(d),c=i(9),f=(n(c),o["default"].PropTypes),h=(f.array,f.func,f.object,f.string,o["default"].createClass({displayName:"Carousel",getInitialState:function(){return{settings:{dots:!1,infinite:!0,speed:500,arrows:!1,autoplay:!0}}},componentDidMount:function(){},render:function(){var e=this.props.photos||[],t=document.body.clientWidth,i=Math.floor(210*document.body.clientWidth/375),n={width:t,height:i};return o["default"].createElement(u["default"],(0,s["default"])({},this.state.settings,{style:n}),e.map(function(e,n){return o["default"].createElement("img",{src:e.pic+"!/both/"+t+"x"+i,key:n})}))}}));t["default"]=h},117:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(116),s=n(r);t["default"]=s["default"]},120:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=n(r),a=i(151),o=n(a),l=s["default"].createClass({displayName:"GoBuy",getInitialState:function(){return{}},componentDidMount:function(){},render:function(){var e=this.props.price,t="";return 0==this.props.step&&(t="起"),s["default"].createElement("div",{className:o["default"].bottom_bar},s["default"].createElement("div",{className:o["default"].price},"￥ ",e," ",t),s["default"].createElement("div",{className:o["default"].buybtn,onClick:this.props.nextStep},this.props.title))}});t["default"]=l},121:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(120),s=n(r);t["default"]=s["default"]},126:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.wxLoginMixin=void 0;var n=i(5);t.wxLoginMixin={componentWillMount:function(){var e=this,t=window.localStorage.uid,i=window.location.href,r=encodeURI("http://meisu.putike.cn/imeisu/?redirect="+i),s=navigator.userAgent.toLowerCase();if("micromessenger"==s.match(/MicroMessenger/i)&&void 0==localStorage.openid){if(this.props.location.query.openid&&void 0===t)fetch(n.INDEX_API+"method=user&action=wxlogin&openid="+this.props.location.query.openid).then(function(e){return e.json()}).then(function(t){1==t.success&&(null!==t.data&&(window.localStorage.uid=t.data&&t.data.id),window.localStorage.openid=e.props.location.query.openid)});else{var a="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+n.APPID+"&redirect_uri="+r+"&response_type=code&scope=snsapi_base&state=123#wechat_redirect";window.location.href=a}return!0}return!1}}},129:function(e,t){var i=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=i},147:function(e,t,i){var n;!function(r,s,a){var o=window.matchMedia;"undefined"!=typeof e&&e.exports?e.exports=a(o):(n=function(){return s[r]=a(o)}.call(t,i,t,e),!(void 0!==n&&(e.exports=n)))}("enquire",this,function(e){"use strict";function t(e,t){var i,n=0,r=e.length;for(n;r>n&&(i=t(e[n],n),i!==!1);n++);}function i(e){return"[object Array]"===Object.prototype.toString.apply(e)}function n(e){return"function"==typeof e}function r(e){this.options=e,!e.deferSetup&&this.setup()}function s(t,i){this.query=t,this.isUnconditional=i,this.handlers=[],this.mql=e(t);var n=this;this.listener=function(e){n.mql=e,n.assess()},this.mql.addListener(this.listener)}function a(){if(!e)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!e("only all").matches}return r.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},s.prototype={addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var i=this.handlers;t(i,function(t,n){return t.equals(e)?(t.destroy(),!i.splice(n,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){t(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";t(this.handlers,function(t){t[e]()})}},a.prototype={register:function(e,r,a){var o=this.queries,l=a&&this.browserIsIncapable;return o[e]||(o[e]=new s(e,l)),n(r)&&(r={match:r}),i(r)||(r=[r]),t(r,function(t){o[e].addHandler(t)}),this},unregister:function(e,t){var i=this.queries[e];return i&&(t?i.removeHandler(t):(i.clear(),delete this.queries[e])),this}},new a})},149:495,151:function(e,t){e.exports={bottom_bar:"GoBuy__bottom_bar___3upKZ",price:"GoBuy__price___3EQHo",buybtn:"GoBuy__buybtn___35Fst"}},174:function(e,t,i){var n=i(129),r=n&&i(147),s=i(77),a={media:function(e,t){e=s(e),"function"==typeof t&&(t={match:t}),r.register(e,t),this._responsiveMediaHandlers||(this._responsiveMediaHandlers=[]),this._responsiveMediaHandlers.push({query:e,handler:t})},componentWillUnmount:function(){this._responsiveMediaHandlers&&this._responsiveMediaHandlers.forEach(function(e){r.unregister(e.query,e.handler)})}};e.exports=a},178:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(1),a=n(s),o=i(25),l=n(o),d=a["default"].createClass({displayName:"PrevArrow",clickHandler:function(e,t){t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-prev":!0},t=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(0===this.props.currentSlide||this.props.slideCount<=this.props.slidesToShow)&&(e["slick-disabled"]=!0,t=null);var i,n={key:"0","data-role":"none",className:(0,l["default"])(e),style:{display:"block"},onClick:t};return i=this.props.prevArrow?a["default"].cloneElement(this.props.prevArrow,n):a["default"].createElement("button",r({key:"0",type:"button"},n)," Previous")}});t.PrevArrow=d;var u=a["default"].createClass({displayName:"NextArrow",clickHandler:function(e,t){t.preventDefault(),this.props.clickHandler(e,t)},render:function(){var e={"slick-next":!0},t=this.clickHandler.bind(this,{message:"next"});this.props.infinite||(this.props.centerMode&&this.props.currentSlide>=this.props.slideCount-1?(e["slick-disabled"]=!0,t=null):this.props.currentSlide>=this.props.slideCount-this.props.slidesToShow&&(e["slick-disabled"]=!0,t=null),this.props.slideCount<=this.props.slidesToShow&&(e["slick-disabled"]=!0,t=null));var i,n={key:"1","data-role":"none",className:(0,l["default"])(e),style:{display:"block"},onClick:t};return i=this.props.nextArrow?a["default"].cloneElement(this.props.nextArrow,n):a["default"].createElement("button",r({key:"1",type:"button"},n)," Next")}});t.NextArrow=u},179:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=n(r),a=i(25),o=n(a),l=function(e){var t;return t=Math.ceil(e.slideCount/e.slidesToScroll)},d=s["default"].createClass({displayName:"Dots",clickHandler:function(e,t){t.preventDefault(),this.props.clickHandler(e)},render:function(){var e=this,t=l({slideCount:this.props.slideCount,slidesToScroll:this.props.slidesToScroll}),i=Array.apply(null,Array(t+1).join("0").split("")).map(function(t,i){var n=(0,o["default"])({"slick-active":e.props.currentSlide===i*e.props.slidesToScroll}),r={message:"dots",index:i,slidesToScroll:e.props.slidesToScroll,currentSlide:e.props.currentSlide};return s["default"].createElement("li",{key:i,className:n},s["default"].createElement("button",{onClick:e.clickHandler.bind(e,r)},i+1))});return s["default"].createElement("ul",{className:this.props.dotsClass,style:{display:"block"}},i)}});t.Dots=d},180:function(e,t,i){"use strict";e.exports=i(184)},181:function(e,t){"use strict";var i={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,slideCount:null,slideWidth:null,swipeLeft:null,touchObject:{startX:0,startY:0,curX:0,curY:0},lazyLoadedList:[],initialized:!1,edgeDragged:!1,swiped:!1,trackStyle:{},trackWidth:0};e.exports=i},182:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},s=i(1),a=n(s),o=i(183),l=n(o),d=i(82),u=n(d),c=i(181),f=n(c),h=i(80),p=n(h),m=i(25),_=n(m),v=i(185),y=i(179),g=i(178),E=a["default"].createClass({displayName:"InnerSlider",mixins:[u["default"],l["default"]],getInitialState:function(){return f["default"]},getDefaultProps:function(){return p["default"]},componentWillMount:function(){this.props.init&&this.props.init(),this.setState({mounted:!0});for(var e=[],t=0;t<a["default"].Children.count(this.props.children);t++)t>=this.state.currentSlide&&t<this.state.currentSlide+this.props.slidesToShow&&e.push(t);this.props.lazyLoad&&0===this.state.lazyLoadedList.length&&this.setState({lazyLoadedList:e})},componentDidMount:function(){this.initialize(this.props),this.adaptHeight(),window.addEventListener?window.addEventListener("resize",this.onWindowResized):window.attachEvent("onresize",this.onWindowResized)},componentWillUnmount:function(){window.addEventListener?window.removeEventListener("resize",this.onWindowResized):window.detachEvent("onresize",this.onWindowResized),this.state.autoPlayTimer&&window.clearInterval(this.state.autoPlayTimer)},componentWillReceiveProps:function(e){this.props.slickGoTo!=e.slickGoTo?this.changeSlide({message:"index",index:e.slickGoTo,currentSlide:this.state.currentSlide}):this.update(e)},componentDidUpdate:function(){this.adaptHeight()},onWindowResized:function(){this.update(this.props)},render:function(){var e,t=(0,_["default"])("slick-initialized","slick-slider",this.props.className),i={fade:this.props.fade,cssEase:this.props.cssEase,speed:this.props.speed,infinite:this.props.infinite,centerMode:this.props.centerMode,currentSlide:this.state.currentSlide,lazyLoad:this.props.lazyLoad,lazyLoadedList:this.state.lazyLoadedList,rtl:this.props.rtl,slideWidth:this.state.slideWidth,slidesToShow:this.props.slidesToShow,slideCount:this.state.slideCount,trackStyle:this.state.trackStyle,variableWidth:this.props.variableWidth};if(this.props.dots===!0&&this.state.slideCount>this.props.slidesToShow){var n={dotsClass:this.props.dotsClass,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,currentSlide:this.state.currentSlide,slidesToScroll:this.props.slidesToScroll,clickHandler:this.changeSlide};e=a["default"].createElement(y.Dots,n)}var s,o,l={infinite:this.props.infinite,centerMode:this.props.centerMode,currentSlide:this.state.currentSlide,slideCount:this.state.slideCount,slidesToShow:this.props.slidesToShow,prevArrow:this.props.prevArrow,nextArrow:this.props.nextArrow,clickHandler:this.changeSlide};return this.props.arrows&&(s=a["default"].createElement(g.PrevArrow,l),o=a["default"].createElement(g.NextArrow,l)),a["default"].createElement("div",{className:t,onMouseEnter:this.onInnerSliderEnter,onMouseLeave:this.onInnerSliderLeave},a["default"].createElement("div",{ref:"list",className:"slick-list",onMouseDown:this.swipeStart,onMouseMove:this.state.dragging?this.swipeMove:null,onMouseUp:this.swipeEnd,onMouseLeave:this.state.dragging?this.swipeEnd:null,onTouchStart:this.swipeStart,onTouchMove:this.state.dragging?this.swipeMove:null,onTouchEnd:this.swipeEnd,onTouchCancel:this.state.dragging?this.swipeEnd:null},a["default"].createElement(v.Track,r({ref:"track"},i),this.props.children)),s,o,e)}});t.InnerSlider=E},183:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(83),s=i(82),a=(n(s),i(29)),o=n(a),l={changeSlide:function(e){var t,i,n,r,s;if(r=this.state.slideCount%this.props.slidesToScroll!==0,t=r?0:(this.state.slideCount-this.state.currentSlide)%this.props.slidesToScroll,"previous"===e.message)n=0===t?this.props.slidesToScroll:this.props.slidesToShow-t,s=this.state.currentSlide-n,this.props.lazyLoad&&(i=this.state.currentSlide-n,s=-1===i?this.state.slideCount-1:i);else if("next"===e.message)n=0===t?this.props.slidesToScroll:t,s=this.state.currentSlide+n;else if("dots"===e.message){if(s=e.index*e.slidesToScroll,s===e.currentSlide)return}else if("index"===e.message&&(s=e.index,s===e.currentSlide))return;this.slideHandler(s)},keyHandler:function(e){},selectHandler:function(e){},swipeStart:function(e){var t,i;this.props.swipe===!1||"ontouchend"in document&&this.props.swipe===!1||this.props.draggable===!1&&-1!==e.type.indexOf("mouse")||(t=void 0!==e.touches?e.touches[0].pageX:e.clientX,i=void 0!==e.touches?e.touches[0].pageY:e.clientY,this.setState({dragging:!0,touchObject:{startX:t,startY:i,curX:t,curY:i}}))},swipeMove:function(e){if(this.state.dragging&&!this.state.animating){var t,i,n,s=this.state.touchObject;i=(0,r.getTrackLeft)((0,o["default"])({slideIndex:this.state.currentSlide,trackRef:this.refs.track},this.props,this.state)),s.curX=e.touches?e.touches[0].pageX:e.clientX,s.curY=e.touches?e.touches[0].pageY:e.clientY,s.swipeLength=Math.round(Math.sqrt(Math.pow(s.curX-s.startX,2))),n=(this.props.rtl===!1?1:-1)*(s.curX>s.startX?1:-1);var a=this.state.currentSlide,l=Math.ceil(this.state.slideCount/this.props.slidesToScroll),d=this.swipeDirection(this.state.touchObject),u=s.swipeLength;this.props.infinite===!1&&(0===a&&"right"===d||a+1>=l&&"left"===d)&&(u=s.swipeLength*this.props.edgeFriction,this.state.edgeDragged===!1&&this.props.edgeEvent&&(this.props.edgeEvent(d),this.setState({edgeDragged:!0}))),this.state.swiped===!1&&this.props.swipeEvent&&(this.props.swipeEvent(d),this.setState({swiped:!0})),t=i+u*n,this.setState({touchObject:s,swipeLeft:t,trackStyle:(0,r.getTrackCSS)((0,o["default"])({left:t},this.props,this.state))}),Math.abs(s.curX-s.startX)<.8*Math.abs(s.curY-s.startY)||s.swipeLength>4&&e.preventDefault()}},swipeEnd:function(e){if(this.state.dragging){var t=this.state.touchObject,i=this.state.listWidth/this.props.touchThreshold,n=this.swipeDirection(t);if(this.setState({dragging:!1,edgeDragged:!1,swiped:!1,swipeLeft:null,touchObject:{}}),t.swipeLength)if(t.swipeLength>i)e.preventDefault(),"left"===n?this.slideHandler(this.state.currentSlide+this.props.slidesToScroll):"right"===n?this.slideHandler(this.state.currentSlide-this.props.slidesToScroll):this.slideHandler(this.state.currentSlide);else{var s=(0,r.getTrackLeft)((0,o["default"])({slideIndex:this.state.currentSlide,trackRef:this.refs.track},this.props,this.state));this.setState({trackStyle:(0,r.getTrackAnimateCSS)((0,o["default"])({left:s},this.props,this.state))})}}},onInnerSliderEnter:function(e){this.props.autoplay&&this.props.pauseOnHover&&this.pause()},onInnerSliderLeave:function(e){this.props.autoplay&&this.props.pauseOnHover&&this.autoPlay()}};t["default"]=l,e.exports=t["default"]},184:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var r=i(1),s=n(r),a=i(182),o=i(29),l=n(o),d=i(77),u=n(d),c=i(174),f=n(c),h=i(80),p=n(h),m=s["default"].createClass({displayName:"Slider",mixins:[f["default"]],getInitialState:function(){return{breakpoint:null}},componentDidMount:function(){var e=this;if(this.props.responsive){var t=this.props.responsive.map(function(e){return e.breakpoint});t.sort(function(e,t){return e-t}),t.forEach(function(i,n){var r;r=0===n?(0,u["default"])({minWidth:0,maxWidth:i}):(0,u["default"])({minWidth:t[n-1],maxWidth:i}),e.media(r,function(){e.setState({breakpoint:i})})});var i=(0,u["default"])({minWidth:t.slice(-1)[0]});this.media(i,function(){e.setState({breakpoint:null})})}},render:function(){var e,t,i=this;return this.state.breakpoint?(t=this.props.responsive.filter(function(e){return e.breakpoint===i.state.breakpoint}),e="unslick"===t[0].settings?"unslick":(0,l["default"])({},this.props,t[0].settings)):e=(0,l["default"])({},p["default"],this.props),"unslick"===e?s["default"].createElement("div",null,this.props.children):s["default"].createElement(a.InnerSlider,e,this.props.children)}});e.exports=m},185:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(1),s=n(r),a=i(29),o=n(a),l=i(25),d=n(l),u=function(e){var t,i,n,r,s;return s=e.rtl?e.slideCount-1-e.index:e.index,n=0>s||s>=e.slideCount,e.centerMode?(r=Math.floor(e.slidesToShow/2),i=(s-e.currentSlide)%e.slideCount===0,s>e.currentSlide-r-1&&s<=e.currentSlide+r&&(t=!0)):t=e.currentSlide<=s&&s<e.currentSlide+e.slidesToShow,(0,d["default"])({"slick-slide":!0,"slick-active":t,"slick-center":i,"slick-cloned":n})},c=function(e){var t={};return void 0!==e.variableWidth&&e.variableWidth!==!1||(t.width=e.slideWidth),e.fade&&(t.position="relative",t.left=-e.index*e.slideWidth,t.opacity=e.currentSlide===e.index?1:0,t.transition="opacity "+e.speed+"ms "+e.cssEase,t.WebkitTransition="opacity "+e.speed+"ms "+e.cssEase),t},f=function(e,t){return null===e.key||void 0===e.key?t:e.key},h=function(e){var t,i,n=[],r=[],a=[],l=s["default"].Children.count(e.children);return s["default"].Children.forEach(e.children,function(h,p){i=!e.lazyLoad|(e.lazyLoad&&e.lazyLoadedList.indexOf(p)>=0)?h:s["default"].createElement("div",null);var m,_=c((0,o["default"])({},e,{index:p})),v=u((0,o["default"])({index:p},e));if(m=i.props.className?(0,d["default"])(v,i.props.className):v,n.push(s["default"].cloneElement(i,{key:"original"+f(i,p),"data-index":p,className:m,style:(0,o["default"])({},i.props.style||{},_)})),e.infinite&&e.fade===!1){var y=e.variableWidth?e.slidesToShow+1:e.slidesToShow;p>=l-y&&(t=-(l-p),r.push(s["default"].cloneElement(i,{key:"cloned"+f(i,t),"data-index":t,className:m,style:(0,o["default"])({},i.props.style||{},_)}))),y>p&&(t=l+p,a.push(s["default"].cloneElement(i,{key:"cloned"+f(i,t),"data-index":t,className:m,style:(0,o["default"])({},i.props.style||{},_)})))}}),e.rtl?r.concat(n,a).reverse():r.concat(n,a)},p=s["default"].createClass({displayName:"Track",render:function(){var e=h(this.props);return s["default"].createElement("div",{className:"slick-track",style:this.props.trackStyle},e)}});t.Track=p},194:function(e,t,i){"use strict";function n(){var e=o("animationend"),t=o("transitionend");e&&l.push(e),t&&l.push(t)}function r(e,t,i){e.addEventListener(t,i,!1)}function s(e,t,i){e.removeEventListener(t,i,!1)}var a=i(8),o=i(201),l=[];a.canUseDOM&&n();var d={addEndEventListener:function(e,t){return 0===l.length?void window.setTimeout(t,0):void l.forEach(function(i){r(e,i,t)})},removeEndEventListener:function(e,t){0!==l.length&&l.forEach(function(i){s(e,i,t)})}};e.exports=d},207:function(e,t){var i=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()};e.exports=i},216:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?E:arguments[0],t=arguments[1],i=g[t.type];return i?i(e,t):e}Object.defineProperty(t,"__esModule",{value:!0}),t.actions=t.minusAmount=t.addAmount=t.delIndent=t.goIndent=t.clearProduct=t.getHistory=t.getDetail=void 0;var s,a=i(16),o=n(a),l=i(32),d=n(l);t["default"]=r;var u=i(9),c=n(u),f=i(5),h=t.getDetail=function(e){return function(t){return(0,c["default"])(f.DETAIL_URL+"&id="+e).then(function(e){return e.json()}).then(function(e){return e.success?t({type:f.GET_DETAIL,product:e.data}):void alert(e.msg)})}},p=t.getHistory=function(e){return function(t){return(0,c["default"])(f.INDEX_API+"method=user&action=contact&uid="+e).then(function(e){return e.json()}).then(function(e){return e.success?t({type:f.GET_HISTORY,history:e.data}):void alert(e.msg)})}},m=t.clearProduct=function(){return function(e){return e({type:f.CLEAR_PRODUCT})}},_=t.goIndent=function(e,t,i,n){return function(r){return r({type:f.GO_INDENT,num:i,index:t,code:e,price:n})}},v=(t.delIndent=function(e,t){return function(e){return e({type:f.DEL_INDENT,index:t})}},t.addAmount=function(e,t){return function(i){return i({type:f.ADD_AMOUNT,index:e,code:t})}}),y=t.minusAmount=function(e,t){return function(i){return i({type:f.MINUS_AMOUNT,index:e,code:t})}},g=(t.actions={getDetail:h,goIndent:_,addAmount:v,minusAmount:y,clearProduct:m,getHistory:p},s={},(0,o["default"])(s,f.GET_HISTORY,function(e,t){return(0,d["default"])({},e,{history:t.history})}),(0,o["default"])(s,f.GET_DETAIL,function(e,t){return(0,d["default"])({},e,{product:t.product},{fetchdone:!0})}),(0,o["default"])(s,f.CLEAR_PRODUCT,function(e,t){return(0,d["default"])({},e,{product:[]})}),(0,o["default"])(s,f.DEL_INDENT,function(e,t){var i=e.order;e.order[t.index].num;return i[t.index].num=0,(0,d["default"])({},e,{order:i})}),(0,o["default"])(s,f.GO_INDENT,function(e,t){var i=e.order;return i[t.index]={code:t.code,num:t.num,price:t.price},(0,d["default"])({},e,{order:i})}),(0,o["default"])(s,f.ADD_AMOUNT,function(e,t){var i=e.order;return i[t.index].num+=1,(0,d["default"])({},e,{order:i})}),(0,o["default"])(s,f.MINUS_AMOUNT,function(e,t){var i=e.order;return 1==i[t.index].num?i[t.index].num=1:i[t.index].num-=1,(0,d["default"])({},e,{order:i})}),s),E={history:[],product:{},order:[],fetchdone:!1}},324:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Loading=void 0;var r=i(1),s=n(r),a=i(483),o=n(a),l=t.Loading=function(e){return s["default"].createElement("div",{className:o["default"].loading},s["default"].createElement("div",{className:o["default"].spinner},s["default"].createElement("div",{className:o["default"].rect1}),s["default"].createElement("div",{className:o["default"].rect2}),s["default"].createElement("div",{className:o["default"].rect3}),s["default"].createElement("div",{className:o["default"].rect4}),s["default"].createElement("div",{className:o["default"].rect5})))};t["default"]=l},325:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(324),s=n(r);t["default"]=s["default"]},342:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(375),s=n(r),a=i(70),o=n(a),l=i(1),d=n(l),u=i(492),c=n(u),f=i(15),h=n(f),p=i(117),m=n(p),_=i(121),v=n(_),y=i(9),g=n(y),E=i(5),S=i(325),w=n(S),b=i(126),T=d["default"].createClass({displayName:"Productinfo",mixins:[b.wxLoginMixin],contextTypes:{router:d["default"].PropTypes.object.isRequired},getInitialState:function(){return{title:"产品详情",loading:!1,goBuy_title:"选择套餐",price:0,active:{},step:0,historyActive:{},title_right:"tel",name:window.localStorage.name||"",
tel:window.localStorage.tel||"",valid:"",alreadyValid:!1,showValid:!1}},componentDidMount:function(){this.props.getDetail(this.props.location.query.id),this.props.getHistory(localStorage.uid)},componentWillUnmount:function(){this.props.clearProduct()},getValid:function(){var e=this;localStorage.uid||(0,g["default"])(E.INDEX_API+"method=user&action=valid&mobile="+this.state.tel).then(function(e){return e.json()}).then(function(t){1==t.success&&e.setState({showValid:!0,alreadyValid:!0})})},createOrder:function(){var e=this;this.setState({loading:!0});for(var t=this.props.productinfo.order,i=[],n=0,r=t.length;r>n;n++)t[n]&&(i=[].concat((0,o["default"])(i),[t[n]]));var a=(0,s["default"])({Num:i});(0,g["default"])(E.INDEX_API+"method=order&action=create&uid="+localStorage.uid+"&mobile="+this.state.tel+"&product="+a+"&id="+this.props.productinfo.product.id+"&contact="+this.state.name).then(function(e){return e.json()}).then(function(t){if(e.setState({loading:!1}),1==t.success){window.localStorage.name=e.state.name||"",window.localStorage.tel=e.state.tel||"";var i=t.data&&t.data.order;e.context.router.push("/payorder?orderid="+i+"&uid="+localStorage.uid)}else alert(t.msg)})},doLogin:function(){var e=this;this.setState({loading:!0}),(0,g["default"])(E.INDEX_API+"method=user&action=login&mobile="+this.state.tel+"&code="+this.state.valid+"&openid="+localStorage.openid).then(function(e){return e.json()}).then(function(t){return e.setState({loading:!1}),1==t.success?(window.localStorage.uid=t.data.id,e.createOrder()):alert(t.msg),t})},init_order:function(){this.setState({goBuy_title:"选择套餐",step:0})},nameChange:function(e){this.setState({name:e.target.value})},telChange:function(e){this.setState({tel:e.target.value})},mailChange:function(e){this.setState({mail:e.target.value})},validChange:function(e){this.setState({valid:e.target.value})},clearName:function(){this.setState({name:""})},getHistory:function(){this.setState({step:9})},clearTel:function(){this.setState({tel:""})},nextStep:function(){switch(this.state.step){case 0:this.setState({goBuy_title:"下一步",step:this.state.step+1});break;case 1:0==this.props.productinfo.order.length?alert("请选择产品"):this.setState({goBuy_title:"立即支付",step:this.state.step+1});break;case 2:localStorage.uid?this.createOrder():this.state.alreadyValid?this.doLogin():this.getValid();break;case 9:this.createOrder()}},select_room:function(e,t,i){var n=this.state.active;return 1==n[e]?(n[e]=0,this.setState({active:n}),this.props.delIndent(i,e)):(n[e]=1,this.setState({active:n}),this.props.goIndent(i,e,1,t))},selectHistory:function(e,t,i){var n={};n[e]=1,this.setState({historyActive:n,name:t,tel:i})},createMarkup:function(e){return{__html:e}},render:function(){var e=this,t=this.props.productinfo.product,i=d["default"].createElement("div",{className:c["default"].porduct_content},d["default"].createElement("div",{dangerouslySetInnerHTML:this.createMarkup(t.content)})),n=0;if(0==this.state.step)n=this.state.price||t.price;else for(var r in this.props.productinfo.order)n+=this.props.productinfo.order[r].num*this.props.productinfo.order[r].price||0;var s,a,o,l=t&&t.room||[],u=t.rule&&t.rule.split("\r\n")||[],f=t.refund&&t.refund.split("\r\n")||[],p=d["default"].createElement("div",{className:c["default"].shadow}),_=t&&t.title,y=this.state.name||"",g=this.state.tel||"",E=t&&t.name,S=t&&t.intro&&t.intro.split("\r\n")||[],b=this.props.productinfo.history;switch(o=!this.props.productinfo.fetchdone||this.state.loading?d["default"].createElement(w["default"],null):"",a=this.state.showValid?d["default"].createElement("div",{className:c["default"].room},d["default"].createElement("ul",{className:c["default"].user_info},d["default"].createElement("li",null,d["default"].createElement("span",null,"姓名"),d["default"].createElement("input",{type:"text",onFocus:this.clearName,onChange:this.nameChange,placeholder:"请输入姓名",value:y})),d["default"].createElement("li",null,d["default"].createElement("span",null,"手机"),d["default"].createElement("input",{type:"text",onFocus:this.clearTel,onChange:this.telChange,placeholder:"请输入手机号",value:g})),d["default"].createElement("li",null,d["default"].createElement("span",null,"验证码"),d["default"].createElement("input",{type:"text",onChange:this.validChange,placeholder:"请输入验证码"})))):d["default"].createElement("div",{className:c["default"].room},d["default"].createElement("ul",{className:c["default"].user_info},d["default"].createElement("li",null,d["default"].createElement("span",null,"姓名"),d["default"].createElement("input",{type:"text",onFocus:this.clearName,onChange:this.nameChange,placeholder:"请输入姓名",value:y})),d["default"].createElement("li",null,d["default"].createElement("span",null,"手机"),d["default"].createElement("input",{type:"text",onFocus:this.clearTel,onChange:this.telChange,placeholder:"请输入手机号",value:g})))),this.state.step){case 0:s=d["default"].createElement("div",null,d["default"].createElement("div",{className:c["default"].order_body},d["default"].createElement(v["default"],{price:n,nextStep:this.nextStep,title:this.state.goBuy_title,step:this.state.step}))),p="";break;case 1:s=d["default"].createElement("div",{className:c["default"].create_order},d["default"].createElement("div",{className:c["default"].order_body},d["default"].createElement("div",{className:c["default"].info_block},d["default"].createElement("div",{className:c["default"].porduct_title},d["default"].createElement("p",{className:c["default"].main_title},"/套餐选择/"),d["default"].createElement("i",{className:c["default"].closebtn,onClick:this.init_order})),d["default"].createElement("div",{className:c["default"].room},d["default"].createElement("ul",null,l.map(function(t,i){var n=e.select_room.bind(e,i,t.price,t.code);if(1==e.state.active[i]){var r=e.props.addAmount.bind(e,i,t.code),s=e.props.minusAmount.bind(e,i,t.code);return d["default"].createElement("li",{key:i,className:c["default"].active},d["default"].createElement("div",{onClick:n},d["default"].createElement("span",null,t.name)," ",d["default"].createElement("span",{className:c["default"].right},"￥ ",t.price)),d["default"].createElement("div",{className:c["default"].room_detail},d["default"].createElement("p",null,t.intro)),d["default"].createElement("div",{className:(c["default"].room_detail,c["default"].buynum)},d["default"].createElement("span",null,"购买数量"),d["default"].createElement("span",{className:c["default"].input_num},d["default"].createElement("span",{onClick:s},"-"),d["default"].createElement("span",{className:c["default"].numwrapper},e.props.productinfo.order[i]&&e.props.productinfo.order[i].num),d["default"].createElement("span",{onClick:r},"+"))))}return d["default"].createElement("li",{key:i,onClick:n},d["default"].createElement("div",null,d["default"].createElement("span",null,t.name)," ",d["default"].createElement("span",{className:c["default"].right},"￥ ",t.price)))})))),d["default"].createElement(v["default"],{price:n,nextStep:this.nextStep,title:this.state.goBuy_title,step:this.state.step})));break;case 2:s=d["default"].createElement("div",{className:c["default"].create_order},d["default"].createElement("div",{className:c["default"].order_body},d["default"].createElement("div",{className:c["default"].info_block},d["default"].createElement("div",{className:c["default"].porduct_title},d["default"].createElement("p",{className:c["default"].user_info_title},"/联系人信息/"),void 0===localStorage.uid?"":d["default"].createElement("span",{className:c["default"].history_user,onClick:this.getHistory},"历史联系人"),d["default"].createElement("i",{className:c["default"].closebtn,onClick:this.init_order}),d["default"].createElement("div",{className:"clear"})),a),d["default"].createElement(v["default"],{price:n,nextStep:this.nextStep,title:this.state.goBuy_title,step:this.state.step})));break;case 9:s=d["default"].createElement("div",{className:c["default"].create_order},d["default"].createElement("div",{className:c["default"].order_body},d["default"].createElement("div",{className:c["default"].info_block},d["default"].createElement("div",{className:c["default"].porduct_title},d["default"].createElement("p",{className:c["default"].user_info_title},"/历史联系人/"),d["default"].createElement("i",{className:c["default"].closebtn,onClick:this.init_order}),d["default"].createElement("div",{className:"clear"})),d["default"].createElement("div",{className:c["default"].room},d["default"].createElement("ul",null,b.map(function(t,i){if(e.state.historyActive[i])return d["default"].createElement("li",{key:i,className:c["default"].active},d["default"].createElement("div",null,d["default"].createElement("span",null,t.name)," ",d["default"].createElement("span",{className:c["default"].right},t.mobile)));var n=e.selectHistory.bind(e,i,t.name,t.mobile);return d["default"].createElement("li",{key:i,onClick:n},d["default"].createElement("div",null,d["default"].createElement("span",null,t.name)," ",d["default"].createElement("span",{className:c["default"].right},t.mobile)))})))),d["default"].createElement(v["default"],{price:n,nextStep:this.nextStep,title:this.state.goBuy_title,step:this.state.step})))}return d["default"].createElement("div",null,o,p,d["default"].createElement(h["default"],{title:this.state.title,title_right:this.state.title_right,opacity:0}),d["default"].createElement("div",{className:c["default"].product_body},d["default"].createElement(m["default"],{photos:this.props.productinfo.product.img}),d["default"].createElement("div",{className:c["default"].info_block},d["default"].createElement("div",{className:c["default"].porduct_title},d["default"].createElement("p",{className:c["default"].main_title},_),d["default"].createElement("p",{className:c["default"].sub_title},E)),d["default"].createElement("div",{className:c["default"].porduct_content},d["default"].createElement("ul",null,S.map(function(e,t){return d["default"].createElement("li",{key:t},e)})))),d["default"].createElement("div",{className:c["default"].info_block},d["default"].createElement("div",{className:c["default"].porduct_title},d["default"].createElement("p",{className:c["default"].main_title},"/美宿故事/")),i),d["default"].createElement("div",{className:c["default"].info_block},d["default"].createElement("div",{className:c["default"].porduct_title},d["default"].createElement("p",{className:c["default"].main_title},"/预订须知/")),d["default"].createElement("div",{className:c["default"].porduct_content},d["default"].createElement("div",null,d["default"].createElement("p",null,"使用说明"),d["default"].createElement("ul",{className:c["default"].rules},u.map(function(e,t){return d["default"].createElement("li",{key:t},e)}))),d["default"].createElement("div",null,d["default"].createElement("p",null,"改退规则"),d["default"].createElement("ul",{className:c["default"].refund},f.map(function(e,t){return d["default"].createElement("li",{key:t},e)}))))),s))}});t["default"]=T},343:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(342),s=n(r);t["default"]=s["default"]},365:function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=i(19),s=i(216),a=i(343),o=n(a),l={getDetail:s.getDetail,goIndent:s.goIndent,addAmount:s.addAmount,minusAmount:s.minusAmount,delIndent:s.delIndent,clearProduct:s.clearProduct,getHistory:s.getHistory},d=function(e){return{productinfo:e.productinfo}};t["default"]=(0,r.connect)(d,l)(o["default"])},375:function(e,t,i){e.exports={"default":i(426),__esModule:!0}},426:function(e,t,i){var n=i(10),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},483:function(e,t){e.exports={loading:"Loading__loading___2mRwl",spinner:"Loading__spinner___3vH-T",stretchdelay:"Loading__stretchdelay___2dKMZ",rect2:"Loading__rect2___2zMJq",rect3:"Loading__rect3___2xEmM",rect4:"Loading__rect4___1iA7F",rect5:"Loading__rect5___2pFyh"}},492:function(e,t){e.exports={product_body:"Productinfo__product_body___39xvR",left:"Productinfo__left___1wGAH",right:"Productinfo__right___2sX6Y",info_block:"Productinfo__info_block___2A5Jj",porduct_title:"Productinfo__porduct_title___4QMIL",main_title:"Productinfo__main_title___1btoN",history_user:"Productinfo__history_user___MADzT",user_info_title:"Productinfo__user_info_title___39YBo",sub_title:"Productinfo__sub_title___3yAFm",porduct_content:"Productinfo__porduct_content___25bLh",rules:"Productinfo__rules___eCW1n",refund:"Productinfo__refund___29fku",room:"Productinfo__room___q0cyZ",active:"Productinfo__active___3sxH6",buynum:"Productinfo__buynum___Fzmg6",input_num:"Productinfo__input_num___rWNMd",numwrapper:"Productinfo__numwrapper___1hUgX",user_info:"Productinfo__user_info___cOTt3",create_order:"Productinfo__create_order___151Ae",order_body:"Productinfo__order_body___1SLkn",closebtn:"Productinfo__closebtn___1KkYT",shadow:"Productinfo__shadow___3iSGJ",tips:"Productinfo__tips___3lqQ4"}}});